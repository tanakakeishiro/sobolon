(()=>{let n=document.querySelector('meta[name="viewport"]');function e(){var e=375<window.outerWidth?"width=device-width,initial-scale=1":"width=375";n.getAttribute("content")!==e&&n.setAttribute("content",e)}addEventListener("resize",e,!1),e()})();let backgroundFix=n=>{var e=n?(()=>{window.navigator.userAgent.toLowerCase();return"scrollingElement"in document?document.scrollingElement:document.documentElement})().scrollTop:parseInt(document.body.style.top||"0");let t={height:"100vh",position:"fixed",top:-1*e+"px",left:"0",width:"100vw"};Object.keys(t).forEach(e=>{document.body.style[e]=n?t[e]:""}),n||window.scrollTo(0,-1*e)},CLASS="is-checked",flg=!1,$hamburger=jQuery("#js-drawer-button"),$menu=jQuery("#js-drawer-content"),$focusTrap=jQuery("#js-focus-trap"),$firstLink=jQuery(".header__link").first();$hamburger.on("click",function(e){e.preventDefault(),$hamburger.toggleClass(CLASS),$menu.toggleClass(CLASS),flg?(backgroundFix(!1),$hamburger.attr("aria-expanded","false"),$hamburger.focus(),flg=!1):(backgroundFix(!0),$hamburger.attr("aria-expanded","true"),flg=!0,setTimeout(function(){$firstLink.length&&$firstLink.focus()},100))}),jQuery(window).on("keydown",function(e){"Escape"===e.key&&flg&&($hamburger.removeClass(CLASS),$menu.removeClass(CLASS),backgroundFix(!1),$hamburger.attr("aria-expanded","false"),$hamburger.focus(),flg=!1)}),$focusTrap.on("focus",function(){$hamburger.focus()}),jQuery('#js-drawer-content a[href^="#"]').on("click",function(e){$hamburger.removeClass(CLASS),$menu.removeClass(CLASS),backgroundFix(!1),$hamburger.attr("aria-expanded","false"),flg=!1}),jQuery(function(e){var n=e("#js-contact-form");if(n.length){let t=e("#your-name"),r=e("#your-email"),o=e("#your-message"),a=e("#your-privacy"),i=e("#js-error-name"),u=e("#js-error-email"),c=e("#js-error-message"),l=e("#js-error-privacy");function s(e){e=e.get(0);e&&e.scrollIntoView({behavior:"smooth",block:"center"})}function f(e,n){e.removeClass("is-invalid"),n&&n.length&&n.text("")}function d(e,n,t){e.addClass("is-invalid"),n&&n.length&&n.text(t)}t.on("blur",function(){t.val().trim()||d(t,i,"必須項目です。")}),t.on("focus",function(){f(t,i)}),r.on("blur",function(){r.val().includes("@")||d(r,u,"メールアドレスの形式でご入力ください。")}),r.on("focus",function(){f(r,u)}),o.on("blur",function(){o.val().trim()||d(o,c,"必須項目です。")}),o.on("focus",function(){f(o,c)}),a.length&&a.on("change",function(){a.prop("checked")?f(a,l):d(a,l,"必須項目です。")}),n.on("submit",function(e){let n=!1;f(t,i),f(r,u),f(o,c),a.length&&f(a,l),t.val().trim()||(d(t,i,"必須項目です。"),n||s(t),n=!0),r.val().includes("@")||(d(r,u,"メールアドレスの形式でご入力ください。"),n||s(r),n=!0),o.val().trim()||(d(o,c,"必須項目です。"),n||s(o),n=!0),a.length&&a.prop("checked")||a.length&&(d(a,l),n||s(a),n=!0),n&&e.preventDefault()})}});