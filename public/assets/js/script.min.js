(()=>{let r=document.querySelector('meta[name="viewport"]');function e(){var e=375<window.outerWidth?"width=device-width,initial-scale=1":"width=375";r.getAttribute("content")!==e&&r.setAttribute("content",e)}addEventListener("resize",e,!1),e()})();let backgroundFix=r=>{var e=r?(()=>{window.navigator.userAgent.toLowerCase();return"scrollingElement"in document?document.scrollingElement:document.documentElement})().scrollTop:parseInt(document.body.style.top||"0");let t={height:"100vh",position:"fixed",top:-1*e+"px",left:"0",width:"100vw"};Object.keys(t).forEach(e=>{document.body.style[e]=r?t[e]:""}),r||window.scrollTo(0,-1*e)},CLASS="is-checked",flg=!1,$hamburger=jQuery("#js-drawer-button"),$menu=jQuery("#js-drawer-content"),$focusTrap=jQuery("#js-focus-trap"),$firstLink=jQuery(".header__link").first();$hamburger.on("click",function(e){e.preventDefault(),$hamburger.toggleClass(CLASS),$menu.toggleClass(CLASS),flg?(backgroundFix(!1),$hamburger.attr("aria-expanded","false"),$hamburger.attr("aria-haspopup","menu"),$hamburger.focus(),flg=!1):(backgroundFix(!0),$hamburger.attr("aria-expanded","true"),$hamburger.removeAttr("aria-haspopup"),flg=!0,setTimeout(function(){$firstLink.length&&$firstLink.focus()},100))}),jQuery(window).on("keydown",function(e){"Escape"===e.key&&flg&&($hamburger.removeClass(CLASS),$menu.removeClass(CLASS),backgroundFix(!1),$hamburger.attr("aria-expanded","false"),$hamburger.attr("aria-haspopup","menu"),$hamburger.focus(),flg=!1)}),$focusTrap.on("focus",function(){$hamburger.focus()}),jQuery('#js-drawer-content a[href^="#"]').on("click",function(e){$hamburger.removeClass(CLASS),$menu.removeClass(CLASS),backgroundFix(!1),$hamburger.attr("aria-expanded","false"),$hamburger.attr("aria-haspopup","menu"),flg=!1}),jQuery(function(e){var r=e("#js-contact-form");if(r.length){let t=e("#your-name"),n=e("#your-email"),o=e("#your-message"),a=e("#your-privacy"),u=e("#js-error-name"),i=e("#js-error-email"),s=e("#js-error-message"),c=e("#js-error-privacy");function l(e){e=e.get(0);e&&e.scrollIntoView({behavior:"smooth",block:"center"})}function m(e,r){e.removeClass("is-invalid"),r&&r.length&&r.text("")}function f(e,r,t){e.addClass("is-invalid"),r&&r.length&&r.text(t)}t.on("blur",function(){t.val().trim()||f(t,u,"必須項目です。")}),t.on("focus",function(){m(t,u)}),n.on("blur",function(){n.val().includes("@")||f(n,i,"メールアドレスの形式でご入力ください。")}),n.on("focus",function(){m(n,i)}),o.on("blur",function(){o.val().trim()||f(o,s,"必須項目です。")}),o.on("focus",function(){m(o,s)}),a.length&&a.on("change",function(){a.prop("checked")?m(a,c):f(a,c,"必須項目です。")}),r.on("submit",function(e){let r=!1;m(t,u),m(n,i),m(o,s),a.length&&m(a,c),t.val().trim()||(f(t,u,"必須項目です。"),r||l(t),r=!0),n.val().includes("@")||(f(n,i,"メールアドレスの形式でご入力ください。"),r||l(n),r=!0),o.val().trim()||(f(o,s,"必須項目です。"),r||l(o),r=!0),a.length&&a.prop("checked")||a.length&&(f(a,c),r||l(a),r=!0),r&&e.preventDefault()})}});